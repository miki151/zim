
Def horizontal static_list HORIZONTAL End
Def vertical static_list VERTICAL End

Def BorderColor 150 150 150 End
Def SavedColor 100 150 100 End
Def UnsavedColor 200 100 100 End
Def FontSize 18 End

{
  using "reload_ui" key_handler(F1 DOWN {})
  using "exit_callback" key_handler(ESCAPE DOWN {})
  using "save_callback" key_handler(S DOWN {LCTRL} )
  fill(BorderColor)
  vertical {
    height 20 {
      fill(UnsavedColor)
      using "no_changes" fill(SavedColor)
      position(CENTER, using "buffer_name" text(16, 255 255 255))
    }
    stretch horizontal {
      width 0 {
        fill(UnsavedColor)
        using "no_changes" fill(SavedColor)
      }
      stretch {
        fill(0 0 0)
        margins(3, using "editor" editor(
          tabWidth = 2
          fontSize = FontSize
          textColor = 255 255 255
          selectionColor = BorderColor
          mouseWheelStep = 4
        ))
      }
      using "editor" width 5 {fill(0 0 0) scrollbar(color = 255 255 255 fontSize = FontSize)}
      width 0 {
        fill(UnsavedColor)
        using "no_changes" fill(SavedColor)
      }
    }
  }
  using "prompt_text" key_handler(null)
  using "prompt_text" position(CENTER, width 400 height 80 {
    fill(BorderColor)
    frame(1, 255 255 255)
    position(CENTER, 
    vertical {
      position(CENTER, text(20, 255 255 255))
      height 5 {}
      position(CENTER, label("Y/N", 20, 255 255 255))
    })
  }) 
  using "next_buffer_path" position(CENTER, {
    fill(BorderColor)
    frame(1, 255 255 255)
    margins(1, list {
      using "selected" fill(255 0 0)
      using "text" text(20, 255 255 255)
    })
  })
  using "search_content" position(BOTTOM_RIGHT, width 400 height 50 {
    fill(BorderColor)
    frame(1, 255 255 255)
    position(CENTER, width 350 height 34 {
      fill(0 0 0)
      margins(2, horizontal { text(20, 255 255 255) width 1 frame(1, 255 255 255)})
    })
  })
  using "search_entry" text_handler()
  using "search_confirm" key_handler(ENTER DOWN {} )
  using "switch_buffer_callback_up" key_handler(UP DOWN {LCTRL} )
  using "switch_buffer_callback_down" key_handler(DOWN DOWN {LCTRL} )
  using "switch_buffer_callback1" key_handler(TAB DOWN {LCTRL} )
  using "switch_buffer_callback2" key_handler(LCTRL UP {} )
  using "prompt_callback_yes" key_handler(Y DOWN {} )
  using "prompt_callback_no" key_handler(N DOWN {} )
  using "prompt_callback_no" key_handler(ESCAPE DOWN {} )
  using "search_callback" key_handler(F DOWN {LCTRL} )
  using "search_repeat_callback" key_handler(G DOWN {LCTRL} )
  using "search_paste_callback" key_handler(V DOWN {LCTRL} )
  using "line_search_callback" key_handler(K DOWN {LCTRL} )
  using "open_file_callback" key_handler(O DOWN {LCTRL} )
}
